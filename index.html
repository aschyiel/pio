<!DOCTYPE html>
<!---
* ..index.html, uly, aug2014..
*
* The Angular-Sorter for Placements.io coding assignment;
* A "static" html-page that, given a JSON input, provides a quick
* summary of the data (if any).
*
* See doc/anguler-sorter-mockup.png for the required layout.
-->
<html>

<head>
  <title>Angular Sorter</title>

  <!-- lib -->
  <link href="lib/normalize.css" rel="stylesheet">
  <link href="lib/bootstrap-3.2.0-dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="lib/jquery-2.1.1.min.js"></script>
  <script src="lib/lodash.js"></script>
  <script src="lib/angular.min.js"></script>
  <script src="lib/bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
  <script src="lib/ui-bootstrap-tpls-0.11.0.min.js"></script>

  <!-- src -->
  <link href="src/css/index.css" rel="stylesheet">
  <script src="build/app.js"></script>

</head>

<body>

  <h1>Angular Sorter</h1>

  <hr>

  <div ng-controller="AngularSorterCtrl">

    <!--
    * A mechanism for providing user-error feedback
    * (ie. RoR flash messaging).
    *-->
    <span id="flash">{{ flash }}</span>

    <!-- TODO: Is there a reusable library for this? -->
    <textarea id="input" ng-model="input"
      required
      placeholder="paste in your data..."
      ng-focus="onInputFocus()"
      ng-blur ="onInputBlur()"
      ></textarea>
    <button id="sort" type="button" class="btn btn-primary"
      ng-click="sort()"
      >Sort!</button>
    <div class="clearfix"></div>

    <!-- TODO: Grand Total, pie-chart, etc. -->

    <ol class="summary" >
      <li class="bucket" ng-repeat="bin in summary">
        <span class="bucket-title">{{ bin.label }}: {{ bin.count }} item<ng-pluralize count="bin.count" when="{'1': '', '0': 's', 'other': 's'}"></ng-pluralize>, {{ bin.sum }} total</span>
        <ul class="bucket-sample">
          <li class="blurb" ng-repeat="it in bin.blurb" >{{ it }}</li>
        </ul>
      </li>
    </ol>
    <div class="clearfix"></div>

  </div>

</body>

</html>
